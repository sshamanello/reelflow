# ========================================
# ReelFlow - Cloudflare Workers Config
# ========================================

name = "reelflow-worker"
main = "worker.js"
compatibility_date = "2024-04-01"

# ========================================
# Development Environment
# ========================================
[env.dev]
name = "reelflow-worker-dev"

[env.dev.vars]
APP_ENV = "development"
APP_NAME = "ReelFlow"
COOKIE_NAME = "rf_sid"
COOKIE_TTL_DAYS = "30"
ALLOWED_ORIGINS = "http://localhost:5500,http://127.0.0.1:5500"

[[env.dev.kv_namespaces]]
binding = "SESSIONS"
id = "3e2eff90906d4312b5fa692d56dd659c"

# ========================================
# Production Environment
# ========================================
[env.production]
name = "reelflow-worker"

[env.production.vars]
APP_ENV = "production"
APP_NAME = "ReelFlow"
COOKIE_NAME = "rf_sid"
COOKIE_TTL_DAYS = "30"
# Добавьте ваш домен сюда!
ALLOWED_ORIGINS = "https://sshamanello.ru"

[[env.production.kv_namespaces]]
binding = "SESSIONS"
id = "3e2eff90906d4312b5fa692d56dd659c"

# ========================================
# Secret Variables (устанавливаются через CLI!)
# ========================================
# Запустите эти команды для установки секретов:
#
# npx wrangler secret put TIKTOK_CLIENT_KEY --env production
# npx wrangler secret put TIKTOK_CLIENT_SECRET --env production
# npx wrangler secret put GOOGLE_CLIENT_ID --env production
# npx wrangler secret put GOOGLE_CLIENT_SECRET --env production
# ========================================
# ПРИМЕЧАНИЕ: SESSIONS - это KV namespace, не секрет!
# Он привязан через kv_namespaces выше
# ========================================
